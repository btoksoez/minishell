TESTS TO FIX:


12. readline: when writing over line, need to handle?

12. make protections in libft

exit 111111111111111111111111111111111

$EMPTY echo hi

exit djgsedjged

unset PATH
any command

ctrl c with no input: 130 exit code


echo -n -nnna hello


 (STILL LEAKS)
unset PATH
correct: works with /usr/bin/cmd & /bin/cmd
output:  minishell: command not found: cmd
--> leaks when no path given

echo $USER.123 (only delimiter are letters or numbers or underscore)

export hi=$USER

cat << $USER -> don't expand

FIXED TESTS:
(FIXED) (HAD LEAKS)
unset HOME
cd
exit

(LEAKS FIXED)
13. export hi
13. export hi += 123
14. export
14. export $&@#&#

(FIXED)
exit 1-1

(FIXED)
14. unset PWD -> pwd ->exit

(FIXED)
16. $/ EXPANDER leaks with rnadom input in front
(FIXED)
12. loop in heredoc with ctrl-d

(FIXED)
13. freeing after signals in heredoc

(FIXED)
13. HEREDOC: cat < dedek << ola
when exiting with delimiter/ctrl-d, wait4(pid)...
$? also leaks

(FIXED)
12. invalid file close invalid fd

(FIXED)
12. loop in heredoc with ctrl-d

(FIXED)
14. echo -n -n segfault

(FIXED)
12. Leaks
minishell$ 4>
exit
syntax error near `\n'


(FIXED)
17. waits for close FD if I write something
cat <<eof

(FIXED)
14. echo -n -n segfault

(FIXED)
8. cat < infile | ls > out (infile no permissions, out with permissions)
should be permission denied: infile, exit code 0

(FIXED) (INVALID CLOSE)
15. (STILL HAD LEAKS) + wrong exit code
cat < dhuhskjdsjks << ola
correct: executes heredoc then error msg
> sdjk
> sdjk
> ola
bash: dhuhskjdsjks: No such file or directory
output:  bash: dhuhskjdsjks: No such file or directory

(FIXED)
builtin?

(FIXED)
echo ?
correct: ?
output:  infinite loop



(FIXED) after expander
$ANYTHING
$?
correct: int i.e 0
output:  minishell: command not found: $?

(FIXED)
< Makefile cat | cat -e | cat > out
valgrind fds still open

(FIXED)
cat < ./de/de

(FIXED)
echo hi > ./de/de

(FIXED)
7. minishell$ echo hi > out/d/d/dw
Error setting outfile to STDOUT
hi
should be: exit code 1, zsh: not a directory: out/d/d/d

(FIXED)
minishell$ djd | echo hello
hello
â‡¾ minishell$ minishell: command not found: djd

(FIXED)
cat < infile > outfile | ls > outfile

(FIXED)
cat < infile > outfile | ls < Makefile > out


(FIXED)
- echo $USER | echo $USER | cat
correct: andre-da
output:  andre-da
         andre-da

(FIXED)
exit code maintains with no tokens

(FIXED)
cat and then ctrl

(FIXED)
Change the SHLVL

(FIXED)
leaks if ENTER + unknown command

(FIXED)
- echo $USER | cat -e
correct: andre-da$
output:  andre-da

(FIXED)
ls | exit 3
correct: doesnt exit, doesnt execute ls, exit status is 3
output:  exits with status 3

(FIXED)
exit 3 | ls
correct: doesnt exit, executes ls, exit status is 0
output:  exits, executes ls, exit status is 3

(FIXED)
exit 3 | exit 4 | exit 5
correct: exit code 5
output : exit code 0

(FIXED)
- Heredoc (change the structure to not create a file)

(FIXED)
echo hello | echo hello
- valgrind waitpids not executed (giving weird message)

(FIXED)
env -i ls
correct: executes ls
output:  prints all envps


(FIXED)
$?
correct: int i.e 0
output:  minishell: command not found: $?


(FIXED)
6. cat << 1 | << 2 | << 3
correct: > 1
         > 2
         > 3
         Leaves the here_doc
output: pipe pipe heredoc> 1
        pipe pipe heredoc> 2
        pipe pipe heredoc> 3
        pipe pipe heredoc> 1
        pipe pipe heredoc> 2
        pipe pipe heredoc> 3
        pipe pipe heredoc> 1
